const proffys = [
    {name: "Diego Fernandes", 
    avatar: "https://avatars2.githubusercontent.com/u/2254731?s=460&amp;u=0ba16a79456c2f250e7579cb388fa18c5c2d7d65&amp;v=4", 
    whatsapp: "987654321",
    bio: "Entusiasta das melhores tecnologias de química avançada. <br><br>Apaixonado por explodir coisas em laboratório e por mudar a vida das pessoas através de experiências. Mais de 200.000 pessoas já passaram por uma das minhas explosões.",
    subject: "Quimica",
    cost: "20",
    weekday: [ 0 ],
    time_form: [720],
    time_to: [1220],
},
{   name: "Renatinha", 
    avatar: "data:image/jpeg;base64,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", 
    whatsapp: "18997453242",
    bio: "japonesa linda, apaixonada em ensinar matematica. ",
    subject: "Matematica",
    cost: "60",
    weekday: [ 3, 4 ],
    time_form: [720],
    time_to: [1220],
}]

const subjects = [
    "Artes",
    "Biologia",
    "Ciências",
    "Educação física",
    "Física",
    "Geografia",
    "História",
    "Matemática",
    "Português",
    "Química",
]

const weekdays = [
    "Segunda-feira",
    "Terça-feira",
    "Quarta-feira",
    "Quinta-feira",
    "Sexta-feira",
    "Sábado"
]

function getSubject(subjectNumber){
    const position = +subjectNumber-1;
    return subjects[position];
}

function pageLanding(req, res){
    return res.render("index.html")
}

function pageStudy(req, res){
    const filters = req.query
    return res.render("study.html", { proffys, filters, subjects, weekdays})
}

function pageGiveClasses(req, res){
    const data = req.query
    const isNotEmpty = Object.keys(data).length > 0

    if(isNotEmpty){
        data.subject = getSubject(data.subject)
        proffys.push(data)

        return res.redirect("/study")
    }

    return res.render("give-classes.html", { subjects, weekdays })
}

function saveClasses(req, res){
    
}

const express = require('express');
const server = express()
const nunjucks = require('nunjucks')
nunjucks.configure('src/views',{
    express: server,
    noCache: true,
})

server.use(express.static("public"))
.get("/", pageLanding)
.get('/study', pageStudy)
.get('/give-classes', pageGiveClasses)
.post('/give-classes')
.listen(5500)